<section class="products-section">
  <div class="products-container">
    <div class="section-header">
      <div class="section-chip">Catálogo en Ecuador</div>
      <h2>Productos Disponibles</h2>
      <p>Explora artículos seleccionados en las principales ciudades del país</p>
    </div>

    <div class="products-toolbar">
      <div class="products-counter">
        <span class="counter-pill">
          <i class="fas fa-box-open"></i>
          {{ products.length }} productos encontrados
        </span>
        <span class="counter-sub" *ngIf="selectedProvince">
          Filtrando por <strong>{{ selectedProvince }}</strong>
        </span>
      </div>
      <button class="btn-refresh" (click)="filterByProvince()">
        <i class="fas fa-sync-alt"></i>
        Actualizar listado
      </button>
    </div>

    <div class="products-grid">
      <article
        *ngFor="let product of products"
        class="product-card"
        [class.featured]="product.featured"
      >
        <div class="product-card-glow"></div>

        <div class="product-badge" *ngIf="product.featured">
          <i class="fas fa-crown"></i>
          Destacado
        </div>

        <div class="product-image">
          <img
            [src]="product.image"
            [alt]="product.title"
            (error)="onImageError($event)"
          />
          <div class="image-fallback">
            <i class="fas fa-shopping-bag"></i>
          </div>

          <div class="product-overlay">
            <button class="btn-view" (click)="viewProduct(product.id)">
              <i class="fas fa-eye"></i>
              Ver detalles
            </button>
            <button class="btn-contact" (click)="viewProduct(product.id)">
              <i class="fas fa-comment-alt"></i>
              Estoy interesado
            </button>
          </div>
        </div>

        <div class="product-info">
          <div class="product-header">
            <h3 class="product-title">{{ product.title }}</h3>
            <span class="product-chip-year">{{ product.year }}</span>
          </div>

          <div class="product-specs">
            <div class="spec">
              <i class="fas fa-map-marker-alt"></i>
              <span>{{ product.location }}</span>
            </div>
            <div class="spec">
              <i class="fas fa-star"></i>
              <span>Calidad verificada</span>
            </div>
          </div>

          <div class="product-footer">
            <div class="product-price-block">
              <div class="product-price">
                {{ formatPrice(product.price) }}
              </div>
              <div class="product-price-note">
                Precio referencial en Ecuador
              </div>
            </div>
            <button class="btn-primary" (click)="viewProduct(product.id)">
              <i class="fas fa-shopping-cart"></i>
              Interesado
            </button>
          </div>
        </div>
      </article>
    </div>
  </div>
</section>
